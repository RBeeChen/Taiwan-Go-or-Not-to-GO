台灣停班停課資訊地圖
這是一個互動式地圖應用程式，旨在提供台灣各縣市及鄉鎮市區的即時停班停課資訊。透過視覺化的方式，您可以一目瞭然地掌握颱風或其他天然災害期間的最新公告，並查看詳細的停班停課狀態。

專案簡介
本專案整合了台灣國家災害防救科技中心 (NCDR) 的停班停課 JSON 資料，並結合地理資訊系統 (GIS) 技術，將停班停課的狀態直接呈現在台灣地圖上。使用者可以透過點擊或滑鼠懸停在縣市或鄉鎮上，查看其詳細的停班停課公告。

功能特色
即時停班停課資訊： 從 NCDR 官方 JSON 數據源獲取最新的停班停課公告。

地圖視覺化：

縣市層級顯示： 台灣各縣市根據其停班停課狀態以不同顏色標示：

藍色： 正常上班上課。

紅色： 全天停止上班或上課。

黃色： 非全天停止上班或上課 (例如上午、中午、下午、晚上停課)。

橘色： 部分區域或特定人員停止上班或上課。

鄉鎮市區層級顯示： 如果縣市內有特定的鄉鎮市區停班停課，該鄉鎮市區會在地圖上以紅色、黃色或橘色獨立標示，提供更精確的資訊。

詳細資訊面板： 點擊地圖上的縣市或鄉鎮，側邊欄會顯示該區域的詳細停班停課公告內容，包括今天和明天的狀態。

離島資訊專區： 獨立顯示澎湖縣、金門縣、連江縣、臺東縣蘭嶼鄉、臺東縣綠島鄉等離島的停班停課資訊。

天氣快報整合： 載入中央氣象局 (CWA) 的天氣快報 RSS 資訊，提供相關的天氣警報和預報連結。

響應式設計： 介面適應不同螢幕尺寸，無論是桌面或行動裝置都能提供良好的使用者體驗。

錯誤處理： 內建資料載入失敗時的錯誤訊息提示及詳情查看功能。

資料來源
停班停課資訊：

國家災害防救科技中心 (NCDR) 即時防災資訊 (JSON 格式): https://alerts.ncdr.nat.gov.tw/JSONAtomFeed.ashx?AlertType=33

地理圖資 (GeoJSON)：

台灣縣市 GeoJSON: https://github.com/RBeeChen/taiwan-typhoon-map/raw/refs/heads/main/twmap.json

台灣鄉鎮 GeoJSON: https://github.com/RBeeChen/taiwan-typhoon-map/releases/download/JSON/TW_town.json

天氣快報：

中央氣象局 (CWA) 天氣警報 RSS: https://www.cwa.gov.tw/rss/Data/cwa_warning.xml

CORS 代理服務：

https://corsproxy.io/ (用於繞過跨域請求限制)

使用技術
HTML5: 頁面結構。

CSS3 (Tailwind CSS): 快速且響應式的網頁樣式框架。

JavaScript (Vanilla JS): 核心邏輯、DOM 操作和資料處理。

Leaflet.js: 輕量級且功能強大的互動式地圖函式庫。

如何運行
由於這是一個單一 HTML 檔案的應用程式，您不需要複雜的設定。

下載檔案： 將 index.html 檔案儲存到您的電腦。

開啟瀏覽器： 使用任何現代瀏覽器 (如 Chrome, Firefox, Edge) 直接開啟 index.html 檔案。

地圖應用程式將會自動載入並顯示最新的停班停課資訊。

核心邏輯說明
地圖初始化： 使用 Leaflet.js 初始化地圖，並設定台灣的初始視圖。

資料載入：

透過 fetch API 從 NCDR 的 JSON 數據源獲取停班停課資訊。

同時載入台灣縣市和鄉鎮的 GeoJSON 地理資料。

載入中央氣象局的天氣快報 RSS。

資料處理 (loadSuspensionData 函式)：

標準化名稱： 將公告中的縣市/鄉鎮名稱進行標準化處理 (例如將「臺」轉換為「台」)，以確保與 GeoJSON 資料中的名稱匹配。

公告解析與合併： 針對每個縣市或鄉鎮，程式會收集所有相關的停班停課公告。

狀態判斷邏輯：

determineStatus 函式會解析公告文字，判斷其屬於 suspended (全天停課)、partial_time (非全天停課)、partial (部分區域/特定人員) 或 normal (正常)。

優先級判斷： 根據預設的優先級 (suspended > partial_time > partial > normal)，確定該區域的最終停班停課狀態。

最新資訊優先： 在相同優先級的情況下，以最新發布的公告為準。

鄉鎮影響縣市標記： 如果縣市下屬的鄉鎮有停班停課（非正常狀態），則該縣市會被標記為 hasTownshipSpecificData，用於在資訊面板中顯示鄉鎮細節，但縣市本身的顏色不會因此改變為橘色。

地圖渲染 (renderMap 函式)：

縣市圖層： 根據 suspensionData 中縣市的最終狀態，為每個縣市繪製相應顏色的地圖區塊。

鄉鎮圖層： 獨立繪製有停班停課公告的鄉鎮市區，並根據其自身的狀態顯示紅色、黃色或橘色。這些鄉鎮圖層會疊加在縣市圖層之上，確保精確顯示。

互動功能： 為地圖上的每個縣市和鄉鎮綁定 mouseover (滑鼠懸停時高亮)、mouseout (滑鼠移開時重置樣式) 和 click (點擊時顯示彈出視窗和更新側邊欄資訊) 事件。

地圖視野調整： 將地圖視野自動調整到包含所有台灣縣市的範圍。

資訊面板更新： 根據使用者點擊的縣市或鄉鎮，實時更新側邊欄的詳細資訊面板，顯示該區域的停班停課狀態和相關公告。

錯誤處理： 內建 try-catch 區塊，用於捕獲資料載入或地圖渲染過程中的錯誤，並在頁面上顯示友善的錯誤提示。

貢獻
歡迎任何形式的貢獻！如果您有任何建議、功能請求或發現錯誤，請隨時提出。

授權
此專案依據 MIT 授權條款發布。詳情請參閱專案根目錄下的 LICENSE 檔案。

聯絡
如果您有任何問題或建議，請透過以下方式聯絡：

GitHub Issues: 在專案的 GitHub 頁面提交 Issue。
